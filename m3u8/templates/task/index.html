{% extends './base.html' %}
{% block title %}Task List{% endblock %}
{% block content %}
<div class="mt-4 table-responsive-lg">
        <div class="d-flex justify-content-between align-items-center gap-3 mb-3">
            <button type="button" class="btn btn-success btn-sm px-3 py-1 shadow-sm" style="border-radius: 0.5rem;">
                <i class="bi bi-plus-lg"></i> 新增任务
            </button>
            <form class="d-flex gap-2" role="search" method="get" action="">
                <input class="form-control form-control-sm rounded-pill" type="search" placeholder="搜索任务" aria-label="Search" name="q"
                        style="max-width:160px;">
                <button class="btn btn-outline-primary btn-sm px-3 py-1 rounded-pill shadow-sm" type="submit">搜索</button>
            </form>
        </div>
            <table class="table table-hover table-bordered table-sm align-middle caption-top" style="background: #f8fafc; border-radius: 0.75rem; overflow: hidden;">
                <caption class="fs-5 fw-bold text-dark">任务列表</caption>
            <thead class="table-primary text-center">
                <tr>
                    <th scope="col">ID</th>
                    <th scope="col">Name</th>
                    <th scope="col">URL</th>
                    <th scope="col">Status</th>
                    <th scope="col">Created At</th>
                    <th scope="col">Updated At</th>
                </tr>
            </thead>
            <tbody>
                {% for task in response_data.tasks %}
                <tr class="align-middle">
                    <td>{{ task.id }}</td>
                    <td>{{ task.name }}</td>
                    <td class="text-break">{{ task.url }}</td>
                    <td><span class="badge bg-info-subtle text-dark px-3 py-2 fs-6 shadow-sm">{{ task.status }}</span></td>
                    <td>{{ task.created_at }}</td>
                    <td>{{ task.updated_at }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
</div>
{% endblock %}